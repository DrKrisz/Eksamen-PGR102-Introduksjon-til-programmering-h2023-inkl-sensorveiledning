<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Miaow Miaow kjøper kinobilletter</title>
		<!-- CSS skal ikke røres -->
		<link
			rel="stylesheet"
			href="css-skal-ikke-roeres/miaow-miaow-kjoeper-kinobilletter.css" />
	</head>
	<body>
		<div id="container"
			><!-- DET ER IKKE LOV Å ENDRE PÅ NOE I HTML-KODEN! -->

			<article id="billett-1"></article
			><!-- I disse 5 article legges det inn bilder av billettene for Oppgave 4-utvidelsen. -->
			<article id="billett-2"></article>
			<article id="billett-3"></article>
			<article id="billett-4"></article>
			<article id="billett-5"></article>

			<h1 id="main-heading">Miaow Miaow kjøper kinobilletter</h1>

			<div id="panel-div">
				<h3 id="panel-heading">Kjøp kinobilletter her</h3>

				<div id="adult-cats-div">
					<span id="number-of-adult-tickets-p">Antall voksenbilletter: 0</span>
					<input
						id="increase-adult-tickets-btn"
						type="button"
						value="+" />
					<input
						id="decrease-adult-tickets-btn"
						type="button"
						value="-" />
				</div>

				<div id="children-cats-div">
					<span id="number-of-children-tickets-p">Antall barnebilletter: 0</span>
					<input
						id="increase-children-tickets-btn"
						type="button"
						value="+" />
					<input
						id="decrease-children-tickets-btn"
						type="button"
						value="-" />
				</div>

				<div id="summary-div">
					<h3>Kjøpsoversikt</h3>
					<p>Totalpris voksenbilletter: 0,-</p>
					<p>Totalpris barnebilletter: 0,-</p>
					<p>Totalpris: 0,-</p>
				</div>

				<input
					id="buy-btn"
					type="button"
					value="Kjøp" />
			</div>

			<img
				id="miaow-miaow"
				src="images/miaow-miaow.png" />
			<img
				id="happy-cat"
				src="images/happy-cat.png" />

			<img
				id="child-1"
				src="images/cat.png" />
			<img
				id="child-2"
				src="images/cat.png" />
			<img
				id="child-3"
				src="images/cat.png" /> </div
		><!-- DET ER IKKE LOV Å ENDRE PÅ NOE I HTML-KODEN! -->

		<script>
			/* I denne script-tagen skal du kode JavaScript (ikke i ekstern fil) */

			const ticketPrices = {
				// Dette objektet må brukes for å få tak i billettprisene.
				adultTicketPrice: 150,
				childTicketPrice: 90,
			};
			var adultTicketsP = document.getElementById("number-of-adult-tickets-p");
			var increaseAdultTicketsBtn = document.getElementById("increase-adult-tickets-btn");
			var decreaseAdultTicketsBtn = document.getElementById("decrease-adult-tickets-btn");

			var childrenTicketsP = document.getElementById("number-of-children-tickets-p");
			var increaseChildrenTicketsBtn = document.getElementById("increase-children-tickets-btn");
			var decreaseChildrenTicketsBtn = document.getElementById("decrease-children-tickets-btn");

			var summaryDiv = document.getElementById("summary-div");
			var buyBtn = document.getElementById("buy-btn");

			var adultTicketPrice = 200;
			var childrenTicketPrice = 100;

			var totalAdultTickets = 0;
			var totalChildrenTickets = 0;

			increaseAdultTicketsBtn.addEventListener("click", () => {
				totalAdultTickets++;
				adultTicketsP.textContent = `Antall voksenbilletter: ${totalAdultTickets}`;
				updateTotalPrices();
			});

			decreaseAdultTicketsBtn.addEventListener("click", () => {
				if (totalAdultTickets > 0) {
					totalAdultTickets--;
				}
				adultTicketsP.textContent = `Antall voksenbilletter: ${totalAdultTickets}`;
				updateTotalPrices();
			});

			increaseChildrenTicketsBtn.addEventListener("click", () => {
				totalChildrenTickets++;
				childrenTicketsP.textContent = `Antall barnebilletter: ${totalChildrenTickets}`;
				updateTotalPrices();
			});

			decreaseChildrenTicketsBtn.addEventListener("click", () => {
				if (totalChildrenTickets > 0) {
					totalChildrenTickets--;
				}
				childrenTicketsP.textContent = `Antall barnebilletter: ${totalChildrenTickets}`;
				updateTotalPrices();
			});

			function updateTotalPrices() {
				const totalAdultTicketPrice = totalAdultTickets * adultTicketPrice;
				const totalChildrenTicketPrice = totalChildrenTickets * childrenTicketPrice;
				const totalPrice = totalAdultTicketPrice + totalChildrenTicketPrice;

				document.getElementById("summary-div").innerHTML = `
			             <h3>Kjøpsoversikt</h3>
			             <p>Totalpris voksenbilletter: ${totalAdultTicketPrice},-</p>
			             <p>Totalpris barnebilletter: ${totalChildrenTicketPrice},-</p>
			             <p>Totalpris: ${totalPrice},-</p>
			         `;
			}

			buyBtn.addEventListener("click", () => {
				const correctAdultTickets = 2;
				const correctChildrenTickets = 3;

				if (totalAdultTickets === correctAdultTickets && totalChildrenTickets === correctChildrenTickets) {
					summaryDiv.innerHTML = `
                    <h1>Takk for kjøpet!</h1>
                    <p>Du har kjøpt riktig antall billetter. Kos deg på kino!</p>
                    `;
				} else {
					summaryDiv.innerHTML = `
                    <h2>Feil antall billetter!</h2>
                    <p>Vennligst sjekk kjøpsoversikten og juster antallet.</p>`;
				}
			});
		</script>
	</body>
</html>
